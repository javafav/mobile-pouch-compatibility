package com.mobilematching.admin.util;

import java.nio.file.Path;
import java.nio.file.Paths;

import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

@Configuration
public class MvcConfig implements WebMvcConfigurer {

	@Override
	public void addResourceHandlers(ResourceHandlerRegistry registry) {
		 String mobileDirName = "mobile-photos";
		 Path mobilePhotosDirPath = Paths.get(mobileDirName);
		 
		 String mobilePhotosPath = mobilePhotosDirPath.toFile().getAbsolutePath();
		
		
		 
		 registry.addResourceHandler("./" + mobileDirName + "/**")
		 	.addResourceLocations("file:/" + mobilePhotosPath + "/");
		 
		 
		 
		
	

		
		String brandLogosDirName = "brand-logos";
		Path brandLogosDir = Paths.get(brandLogosDirName);
		
		String brandLogosPath = brandLogosDir.toFile().getAbsolutePath();
		
		 registry.addResourceHandler("/" + brandLogosDirName + "/**")
			.addResourceLocations("file:/" + brandLogosPath + "/");	
		
		
		
		String pouchImageDirName = "pouch-photos";
		Path pouchImageDir = Paths.get(pouchImageDirName);
		
		String pouchImagePath = pouchImageDir.toFile().getAbsolutePath();
		
		 registry.addResourceHandler("/" + pouchImageDirName + "/**")
			.addResourceLocations("file:/" + pouchImagePath + "/");	
	}
}